SETFREQUENCY=20		// hospital
//JN 30.5.2005

BUILDWIDTH=RAND(40;60)
FLOORHEIGHT=4
SETX=BUILDBEGIN
GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)
SETV10=BUILDWIDTH
SUBV10(5)

ELEVINTERVAL=RAND(10;20)
DOORINTERVAL=RAND(6;10)
DOORTYPE=2

SETV1=RAND(3;12)		// floors
SETV3=RAND(0;10)	// l/r
SETV4=RAND(0;10)	// material

MATERIAL=7	// brick
SETV20=7	// wall
SETV21=8	// floor
SETV22=9	// bg

IFV4(6;10)	// element
	MATERIAL=10
	SETV20=10
	SETV21=11
	SETV22=12
ENDIF

SETV5=1
IFV1(5;9)	// more basement
	SETV5=2
ENDIF

IFV1(10;12)	// EVEN more basement
	SETV5=3
ENDIF


IFV3(6;10)	// sign on right
	RIGHT(V10)
	RIGHT(1)
ENDIF

UP(1)
MATERIAL=136
BDOWN(1)
RIGHT(1)
MATERIAL=137
BDOWN(1)
RIGHT(1)
MATERIAL=138
BDOWN(1)
DOWN(1)

IFV3(6;10)	// sign on right
	LEFT(V10)
	LEFT(1)
ENDIF

SETV6=0

MATERIAL=4	// basement building
BEGIN
	DOWN(FLOORHEIGHT)
	ADDV6(FLOORHEIGHT)
	BUILDFLOOR(X;V10;Y)
REPEAT V5

SETV5=V10
SUBV5(4)
RIGHT(2)
MATERIAL=5
BRIGHT(V5)
LEFT(2)
DIVV5(3)
MATERIAL=40
DOWN(1)
RIGHT(V5)
BDOWN(1)
RIGHT(V5)
BDOWN(1)
LEFT(V5)
LEFT(V5)
UP(1)
UP(V6)

MATERIAL=V20
OUTSIDE=1

BUILDFLOOR(X;V10;Y)
UP(FLOORHEIGHT)
SUBV1(1)
OUTSIDE=RAND(2;5)

SETV11=V10
DIVV11(2)
SETV13=V1
DIVV13(2)

SETV12=RAND(1;2)

SUBV1(V12)

BEGIN
	BUILDFLOOR(X;V10;Y)
	UP(FLOORHEIGHT)
REPEAT V12
SUBV10(2)
IFV3(0;5)
	RIGHT(2)
ENDIF

BUILDROOF(X;V10;Y)

IFV3(0;5)
	LEFT(2)
ENDIF

OUTSIDE=RAND(2;5)

SETV6=0

IFV3(6;10)	// right
	RIGHT(V11)
ENDIF

BEGIN
	BUILDFLOOR(X;V11;Y)
	UP(FLOORHEIGHT)
REPEAT V1

BUILDROOF(X;V11;Y)

