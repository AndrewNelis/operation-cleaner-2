SETFREQUENCY=30		// oil refinery, 30
//JN 30.8.2005

BUILDWIDTH=RAND(50;80)
FLOORHEIGHT=5
SETX=BUILDBEGIN
GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)

//ELEVINTERVAL=RAND(10;20)
DOORINTERVAL=RAND(6;10)
DOORTYPE=2	// normal doors

SETV1=RAND(5;12)		// floors

MATERIAL=60
BRIGHT(BUILDWIDTH)

MATERIAL=4	// basement

DOWN(FLOORHEIGHT)

BUILDFLOOR(BUILDBEGIN;BUILDWIDTH;Y)

MATERIAL=5

SETV2=BUILDWIDTH
SUBV2(4)
RIGHT(2)
BRIGHT(V2)
UP(FLOORHEIGHT)
BRIGHT(V2)
DOWN(FLOORHEIGHT)
DIVV2(3)
DOWN(1)
RIGHT(V2)
MATERIAL=40
BDOWN(1)
RIGHT(V2)
BDOWN(1)
LEFT(V2)
LEFT(V2)
LEFT(2)
UP(1)

UP(FLOORHEIGHT)

MATERIAL=10
SETV20=10
SETV21=11
SETV22=12

SETV2=BUILDWIDTH
ADDV2(8)
DIVV2(4)

SETX=BUILDBEGIN
SETV3=Y

SETV4=V2
DIVV4(2)
IFV4(0;8)
	SETV4=8
ENDIF
SETV5=V2
SUBV5(V4)
IFV5(0;8)
	SETV5=8
ENDIF

SETV8=V1
SUBV8(2)
SETV7=RAND(2;5)

SETV10=RAND(1;10)	// side

IFV10(0;5)
	RIGHT(BUILDWIDTH)
	LEFT(V2)
ENDIF

BEGIN
	OUTSIDE=1

	BEGIN
		BUILDFLOOR(X;V2;Y)
		UP(FLOORHEIGHT)
		OUTSIDE=4
	REPEAT V7

	BUILDROOF(X;V2;Y)

	SETY=V3

	IFV10(0;5)
		LEFT(V2)
		RIGHT(4)
	ENDIF

	IFV10(6;10)
		RIGHT(V2)
	ENDIF

	OUTSIDE=1
	BEGIN
		BUILDFLOOR(X;V4;Y)
		OUTSIDE=0
		UP(FLOORHEIGHT)
	REPEAT V1
	SETY=V3

	SETV6=FLOORHEIGHT
	MULV6(V1)
	FLOORHEIGHT=V6

	RIGHT(V4)
	LEFT(4)

	BUILDFLOOR(X;V5;Y)

	FLOORHEIGHT=5
	LEFT(V4)

	IFV10(0;5)
		LEFT(V2)
		RIGHT(4)
	ENDIF

	IFV10(6;10)
		RIGHT(V2)
	ENDIF

REPEAT 2

