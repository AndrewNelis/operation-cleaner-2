SETFREQUENCY=10		// prison, 10
//JN 2.7.2005

DOORINTERVAL=RAND(3;5)
FLOORHEIGHT=4
BUILDWIDTH=RAND(40;70)
//ELEVINTERVAL=RAND(10;20)

GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)
SETX=BUILDBEGIN

SETV21=10
IFV5(0;50)
	SETV21=7
ENDIF


SETV1=RAND(2;6)		// floors

DOORTYPE=3
OUTSIDE=0

SETV2=RAND(10;25)	// fence
SETV10=BUILDWIDTH
IFV10(0;50)
	SETV2=10
ENDIF
SUBV10(V2)

SETV3=RAND(0;10)	// l/r

MATERIAL=25

BEGIN
	UP(1)
	BRIGHT(BUILDWIDTH)
REPEAT 4
DOWN(4)

MATERIAL=V21
DOORTYPE=3
OUTSIDE=1

IFV3(6;10)	// right
//	PRINTVAR(V2)
	LEFT(2)
	BUILDFLOOR(X;8;Y)
	UP(FLOORHEIGHT)
	OUTSIDE=4
	BUILDFLOOR(X;8;Y)
	UP(FLOORHEIGHT)
	RIGHT(2)
	BUILDROOF(X;4;Y)
	LEFT(2)
	DOWN(FLOORHEIGHT)
	DOWN(FLOORHEIGHT)
	RIGHT(2)
	RIGHT(V2)
ENDIF

IFV3(0;5)
	RIGHT(BUILDWIDTH)
	LEFT(6)
	BUILDFLOOR(X;8;Y)
	UP(FLOORHEIGHT)
	OUTSIDE=4
	BUILDFLOOR(X;8;Y)
	UP(FLOORHEIGHT)
	RIGHT(2)
	BUILDROOF(X;4;Y)
	LEFT(2)
	DOWN(FLOORHEIGHT)
	DOWN(FLOORHEIGHT)

	RIGHT(6)
	LEFT(BUILDWIDTH)
ENDIF

OUTSIDE=0
MATERIAL=4

DOWN(FLOORHEIGHT)	// basement
BUILDFLOOR(X;V10;Y)

SETV9=V10
DIVV9(2)
RIGHT(V9)
DOWN(1)
MATERIAL=40
BDOWN(1)
//MATERIAL=5
UP(1)
LEFT(V9)

UP(FLOORHEIGHT)

MATERIAL=V21

OUTSIDE=1
DOORTYPE=3
BUILDFLOOR(x;V10;Y)	// 1st floor

OUTSIDE=0
UP(FLOORHEIGHT)
DOORTYPE=3

BEGIN	// other floors
	BUILDFLOOR(X;V10;Y)
	UP(FLOORHEIGHT)
REPEAT V1

BUILDROOF(X;V10;Y)
