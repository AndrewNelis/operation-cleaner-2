SETFREQUENCY=20		// sports center, 20
//JN 30.8.2005

BUILDWIDTH=RAND(30;60)
FLOORHEIGHT=4
SETX=BUILDBEGIN
GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)

DOORINTERVAL=RAND(6;10)
DOORTYPE=2	// normal doors

SETV1=RAND(1;5)		// floors
SETV3=RAND(1;10)	// l/r
SETV4=RAND(0;10)	// material

SETV2=BUILDWIDTH
DIVV2(3)
SETV5=BUILDWIDTH
SUBV5(V2)
ADDV5(4)

MATERIAL=4
DOWN(FLOORHEIGHT)
BUILDFLOOR(X;BUILDWIDTH;Y)
DOWN(1)
RIGHT(V2)
MATERIAL=40
BDOWN(1)
RIGHT(V2)
BDOWN(1)
LEFT(V2)
LEFT(V2)
UP(1)
UP(FLOORHEIGHT)

MATERIAL=7	// brick
SETV20=7	// wall
SETV21=8	// floor
SETV22=9	// bg

IFV4(6;10)	// element
	MATERIAL=10
	SETV20=10
	SETV21=11
	SETV22=12
ENDIF

IFV3(0;5)
	RIGHT(BUILDWIDTH)
	LEFT(V2)
ENDIF

OUTSIDE=1
SETV9=Y
BUILDFLOOR(X;V2;Y)

RIGHT(V2)

IFV3(0;5)
	LEFT(BUILDWIDTH)
ENDIF

IFV3(6;10)
	LEFT(4)
ENDIF

FLOORHEIGHT=8
OUTSIDE=0

BEGIN
	DOORINTERVAL=RAND(10;20)
	BUILDFLOOR(X;V5;Y)
	UP(FLOORHEIGHT)
REPEAT V1

IFV1(4;5)
	OUTSIDE=RAND(2;4)
	DOORINTERVAL=RAND(10;15)
	FLOORHEIGHT=4
	BUILDFLOOR(X;V5;Y)
ENDIF

SETY=V9
UP(1)

IFV3(0;5)
	RIGHT(V5)
	LEFT(3)
ENDIF

IFV3(6;10)
	RIGHT(2)
ENDIF

MATERIAL=V22
BUP(2)


