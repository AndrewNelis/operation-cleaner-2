SETFREQUENCY=40		// tv mast, 40
//JN 27.6.2005

BUILDWIDTH=RAND(20;30)
FLOORHEIGHT=4
SETX=BUILDBEGIN
GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)

DOORINTERVAL=RAND(6;10)
DOORTYPE=2	// normal doors

SETV1=RAND(1;3)		// floors
SETV3=RAND(0;10)	// l/r
SETV4=RAND(0;10)	// material

MATERIAL=4
DOWN(FLOORHEIGHT)
BUILDFLOOR(X;BUILDWIDTH;Y)
DOWN(1)
SETV10=BUILDWIDTH
DIVV10(2)

RIGHT(V10)
MATERIAL=40
BDOWN(1)

UP(1)
LEFT(V10)
UP(FLOORHEIGHT)

MATERIAL=10	// element
SETV20=10	// wall
SETV21=11	// floor
SETV22=12	// bg

OUTSIDE=1

BEGIN
	BUILDFLOOR(X;BUILDWIDTH;Y)
	UP(FLOORHEIGHT)
	OUTSIDE=4
REPEAT V1

UP(1)
SETV15=RAND(30;80)	 // tower

SETV11=RAND(3;5)
SETV12=V11
MULV12(2)

RIGHT(V10)
LEFT(V11)

MATERIAL=V20
SETV31=X
BUP(V15)

MATERIAL=V22
BEGIN
	RIGHT(1)
	BUP(V15)
REPEAT V12

MATERIAL=V20
BUP(V15)

UP(V15)
MATERIAL=V21

ADDV12(1)
BLEFT(V12)

ADDV12(4)
RIGHT(2)

SETV16=V15
SETV17=RAND(6;10)

DIVV15(V17)
SETV18=Y

BEGIN
	DOWN(V17)
	BLEFT(V12)
REPEAT V15

MATERIAL=17

SETY=V18

DOWN(1)
LEFT(V11)
LEFT(1)
BDOWN(V16)

LEFT(3)
BDOWN(V16)

DOWN(V16)
SETV30=Y

MULV1(FLOORHEIGHT)
ADDV1(FLOORHEIGHT)

BDOWN(V1)
RIGHT(3)
BDOWN(V1)

SETX=V31
SETY=V30

ADDV12(2)
UP(1)
LEFT(2)

BEGIN
	BEGIN
		IFBLOCK(11;11)
			UP(1)
			IFBLOCK(0;0)
				SETV32=RAND(0;10)
				IFV32(0;7)
					MATERIAL=RAND(54;55)
					BUP(1)
				ENDIF
			ENDIF
			DOWN(1)
		ENDIF
		UP(1)
	REPEAT V16

	DOWN(V16)
	RIGHT(1)
REPEAT V12



