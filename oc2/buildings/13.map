SETFREQUENCY=40		// glass skyscraper
// JN 30.5.2005
BUILDWIDTH=RAND(25;60)
SETV1=BUILDWIDTH
DOORINTERVAL=RAND(7;12)
ELEVINTERVAL=RAND(10;15)
FLOORHEIGHT=4
SETV2=RAND(14;24)	// floors

GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)

SETX=BUILDBEGIN

MATERIAL=4

SETV3=2
IFV2(30;40)	// if high enough -> more basement
	SETV3=3
ENDIF

SETV4=0

BEGIN
	DOWN(FLOORHEIGHT)
	ADDV4(FLOORHEIGHT)
	BUILDFLOOR(X;BUILDWIDTH;Y)
REPEAT V3

SETV5=BUILDWIDTH
DIVV5(2)
RIGHT(V5)
DOWN(1)
MATERIAL=40
BDOWN(1)
UP(1)
LEFT(V5)

MATERIAL=17
SUBV1(4)
RIGHT(2)
BRIGHT(V1)
LEFT(2)
MATERIAL=10

UP(V4)
DOORTYPE=2
OUTSIDE=5
BUILDFLOOR(X;BUILDWIDTH;Y)
UP(FLOORHEIGHT)

OUTSIDE=5

SETV5=0
SETV6=RAND(3;5)	// metal interval
SETV7=BUILDWIDTH

SUBV7(4)

BEGIN
	BUILDFLOOR(X;BUILDWIDTH;Y)
	ADDV5(1)
	IFV5(V6;V6)
		MATERIAL=17
		RIGHT(2)
		BRIGHT(V7)
		LEFT(2)
		MATERIAL=10
		SETV5=0
	ENDIF

	UP(FLOORHEIGHT)
	ADDV4(FLOORHEIGHT)

REPEAT V2

BUILDROOF(X;BUILDWIDTH;Y)

SETV6=RAND(10;15)
SETV7=BUILDWIDTH
SUBV7(8)
DIVV7(V6)

DOWN(1)
ADDV4(3)

MATERIAL=17

BEGIN
	RIGHT(V6)
	BDOWN(V4)
REPEAT V7

MATERIAL=18
SETV1=BUILDWIDTH
ADDV2(1)
MULV2(FLOORHEIGHT)
SETX=BUILDBEGIN

BEGIN
	DOWN(1)
	BEGIN
		RIGHT(1)
		IFBLOCK(12;12)
			BUP(1)
		ENDIF
	REPEAT V1
	LEFT(V1)
REPEAT V2
