SETFREQUENCY=50		// shopping centre, 50
//JN 27.6.2005

BUILDWIDTH=RAND(40;80)
FLOORHEIGHT=4
SETX=BUILDBEGIN
GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)

SETV1=RAND(4;12)		// floors
SETV3=RAND(0;10)	// l/r
SETV4=RAND(0;10)	// material

DOORINTERVAL=RAND(6;10)
DOORTYPE=3	// normal doors

MATERIAL=4

SETV10=Y

SETV11=BUILDWIDTH
DIVV11(3)
SETV12=BUILDWIDTH
SUBV12(V11)

DOWN(FLOORHEIGHT)
BUILDFLOOR(X;BUILDWIDTH;Y)

IFV1(7;9)
	DOWN(FLOORHEIGHT)
	BUILDFLOOR(X;BUILDWIDTH;Y)
ENDIF

IFV1(10;12)
	DOWN(FLOORHEIGHT)
	BUILDFLOOR(X;BUILDWIDTH;Y)
ENDIF

SETV14=Y
DOWN(1)
MATERIAL=40	// pipe
BEGIN
	RIGHT(V11)
	BDOWN(1)
REPEAT 2

SETX=BUILDBEGIN
SETY=V10
DOORINTERVAL=RAND(6;10)
DOORTYPE=1	// glass doors
OUTSIDE=1

MATERIAL=7	// brick
SETV20=7	// wall
SETV21=8	// floor
SETV22=9	// bg

IFV4(6;10)	// element
	MATERIAL=10
	SETV20=10
	SETV21=11
	SETV22=12
ENDIF

BUILDFLOOR(X;BUILDWIDTH;Y)
OUTSIDE=RAND(4;5)

IFV1(10;12)
	UP(FLOORHEIGHT)
	BUILDFLOOR(X;BUILDWIDTH;Y)
	SUBV1(1)
ENDIF

IFV1(6;12)
	UP(FLOORHEIGHT)
	BUILDFLOOR(X;BUILDWIDTH;Y)
	SUBV1(1)
ENDIF

IFV3(6;10)	// right
	RIGHT(V11)
ENDIF

BEGIN
	DOORINTERVAL=RAND(5;15)
	UP(FLOORHEIGHT)
	BUILDFLOOR(X;V12;Y)
REPEAT V1

UP(FLOORHEIGHT)
BUILDROOF(X;V12;Y)
SETV15=Y
SETV13=V12
DIVV13(3)

SETY=V14
SUBV15(V14)

BEGIN
	RIGHT(V13)
	BUILDELEV(X;Y;4;V15;0)
REPEAT 2


