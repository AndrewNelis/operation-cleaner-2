SETFREQUENCY=30
//JN 11.5.2005, 13.5., 23.5. - water tower, cube
BUILDWIDTH=RAND(25;60)

SETV1=RAND(10;50)	// height

IFV1(10;30)		// basement
	SETV2=RAND(3;7)
ENDIF
IFV1(31;50)
	SETV2=RAND(5;12)
ENDIF

GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)
SETX=BUILDBEGIN

MATERIAL=6

SETV6=BUILDWIDTH
SUBV6(1)

BEGIN

	RIGHT(1)
	BDOWN(V2)

REPEAT V6

MATERIAL=5	// basement
BDOWN(V2)
LEFT(V6)
RIGHT(1)
BDOWN(V2)
DOWN(V2)
//RIGHT(1)
BRIGHT(V6)

SETV5=V6
DIVV5(3)
RIGHT(V5)
DOWN(1)
MATERIAL=40
BDOWN(1)
RIGHT(V5)
BDOWN(1)
UP(1)
UP(V2)
LEFT(V5)
LEFT(V5)

SETV2=RAND(0;100)

IFV2(0;20)
	SETV3=1	// material
ENDIF

IFV2(21;60)
	SETV3=7
ENDIF

IFV2(61;100)
	SETV3=10
ENDIF

UP(1)
SETV4=V3
ADDV4(2)

MATERIAL=V4
BEGIN
	BUP(V1)
	RIGHT(1)
REPEAT V6

LEFT(V6)

MATERIAL=V3
BUP(V1)
RIGHT(V6)
LEFT(1)
BUP(V1)

SETV5=V4
SUBV4(1)
MATERIAL=V4
UP(V1)
BLEFT(V6)

DOWN(V1)

MATERIAL=20
SETV7=RAND(0;10)

IFV7(0;5)	// RIGHT SIDE
	BUP(3)
	LEFT(1)
	DOWN(1)
	MATERIAL=5
	BLEFT(3)
	LEFT(2)
	UP(1)
	MATERIAL=V3
	BUP(V1)
	UP(V1)
	RIGHT(1)
	MATERIAL=V5
	BRIGHT(2)
	LEFT(1)
	MATERIAL=20
	UP(1)
	BUP(3)
	RIGHT(3)
	MATERIAL=V3
	BUP(3)
	BDOWN(2)
	MATERIAL=V5
	LEFT(1)
	BUP(3)
	LEFT(1)
	BUP(3)
	MATERIAL=V4
	UP(3)
	LEFT(1)
	BRIGHT(4)
ENDIF

IFV7(6;10)	// LEFT SIDE
	LEFT(V6)
	RIGHT(1)
	BUP(3)
	RIGHT(1)
	DOWN(1)
	MATERIAL=5
	BRIGHT(3)
	RIGHT(2)
	UP(1)
	MATERIAL=V3
	BUP(V1)
	UP(V1)
	LEFT(1)
	MATERIAL=V5
	BLEFT(2)
	RIGHT(1)
	MATERIAL=20
	UP(1)
	BUP(3)
	LEFT(3)
	MATERIAL=V3
	BUP(3)
	BDOWN(2)
	MATERIAL=V5
	RIGHT(1)
	BUP(3)
	RIGHT(1)
	BUP(3)
	MATERIAL=V4
	UP(3)
	RIGHT(1)
	BLEFT(4)

ENDIF


