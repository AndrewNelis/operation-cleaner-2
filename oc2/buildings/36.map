SETFREQUENCY=25		// smokestack, 25
//JN 15.8.2005

BUILDWIDTH=RAND(3;6)
SETX=BUILDBEGIN
GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)

SETV4=RAND(0;10)	// material

MATERIAL=7	// brick
SETV20=7	// wall
SETV21=8	// floor
SETV22=9	// bg

IFV4(6;10)	// element
	MATERIAL=10
	SETV20=10
	SETV21=11
	SETV22=12
ENDIF

SETV1=RAND(5;12)	// height
MULV1(BUILDWIDTH)

DOWN(3)

IFV1(30;40)
	DOWN(1)
ENDIF

IFV1(40;60)
	DOWN(1)
ENDIF

MATERIAL=V21

SETV11=BUILDWIDTH
SUBV11(1)

BRIGHT(V11)

BUP(V1)
RIGHT(V11)
BUP(V1)
UP(1)
SETV2=V11
SUBV2(1)
SUBV1(1)
MATERIAL=V22

BEGIN
	LEFT(1)
	BUP(V1)
REPEAT V2

