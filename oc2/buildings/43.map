SETFREQUENCY=30		// water tower, chantarelle, 30
//JN 5.7.2005, fixed 31.1.2007

BUILDWIDTH=RAND(40;60)
FLOORHEIGHT=4
SETX=BUILDBEGIN
GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)

//ELEVINTERVAL=RAND(10;20)
//DOORINTERVAL=RAND(6;10)
DOORTYPE=3	// steel doors

SETV1=RAND(4;8)		// floors
SETV3=RAND(0;10)	// l/r, elevator
SETV4=RAND(0;10)	// material

SETV2=BUILDWIDTH
DIVV2(3)

RIGHT(V2)

SETV10=Y

MATERIAL=4
DOWN(FLOORHEIGHT)
BUILDFLOOR(X;V2;Y)

IFV2(17;22)
	DOWN(FLOORHEIGHT)
	BUILDFLOOR(X;V2;Y)
ENDIF

SETV6=V2
DIVV6(2)

DOWN(1)
RIGHT(V6)
MATERIAL=40
BDOWN(1)
LEFT(V6)

SETY=V10

MATERIAL=1	// concrete
SETV20=1	// wall
SETV21=2	// floor
SETV22=3	// bg

//IFV4(4;10)	// NO element
//	MATERIAL=10
//	SETV20=10
//	SETV21=11
//	SETV22=12
//ENDIF

OUTSIDE=1
BUILDFLOOR(X;V2;Y)
OUTSIDE=0

BEGIN
	UP(FLOORHEIGHT)
	BUILDFLOOR(X;V2;Y)
REPEAT V1

SETV5=V2
SUBV5(5)
RIGHT(3)

BEGIN
	LEFT(1)
	MATERIAL=V21
	BLEFT(2)
	RIGHT(1)
	MATERIAL=V22
	BRIGHT(V5)
	MATERIAL=V21
	RIGHT(V5)
	LEFT(1)
	BRIGHT(2)
	RIGHT(1)
	ADDV5(2)
	LEFT(V5)
	UPRIGHT(1)

REPEAT V2

BRIGHT(V5)
BLEFT(2)
