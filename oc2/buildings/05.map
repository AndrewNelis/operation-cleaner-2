SETFREQUENCY=10
//JN 6.12.2004

SETX=BUILDBEGIN
BUILDWIDTH=RAND(10;30)
SETV1=RAND(1;3)	// floors
SETV3=RAND(0;100)	// side
SETV2=RAND(3;10)	// tube depth

IFV3(0;50)
	RIGHT(BUILDWIDTH)
	LEFT(9)
ENDIF

MATERIAL=2	// concrete

GOTOLOW(X;1)
SETV7=Y

BDOWN(V2)
RIGHT(4)
BDOWN(V2)

LEFT(3)
MATERIAL=3
SETV5=X

BEGIN
	BDOWN(V2)
	RIGHT(1)
REPEAT 3

DOWN(V2)
FLOORHEIGHT=3
SETX=BUILDBEGIN

IFV3(0;50)
	MATERIAL=2
	SETV12=V2
	ADDV12(1)
	BUP(V12)
ENDIF

LEFT(2)


MATERIAL=1
BEGIN
	DOWN(3)
	BUILDFLOOR(X,BUILDWIDTH,Y)
REPEAT V1

SETX=V5
SETY=V7
MATERIAL=3

SETV6=V1
MULV6(FLOORHEIGHT)
ADDV6(V2)

BEGIN
	BDOWN(V6)
	RIGHT(1)
REPEAT 3
