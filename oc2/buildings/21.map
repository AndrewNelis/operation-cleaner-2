SETFREQUENCY=20	// observatory, 20
//JN 25.6.2005

BUILDWIDTH=RAND(25;40)
FLOORHEIGHT=4
SETX=BUILDBEGIN
GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)
SETV7=Y

DOORINTERVAL=RAND(6;10)
DOORTYPE=2	// normal doors

SETV1=RAND(1;2)		// floors
SETV3=RAND(0;10)	// l/r
SETV4=RAND(0;10)	// material

DOWN(FLOORHEIGHT)	// basement
MATERIAL=4
BUILDFLOOR(X;BUILDWIDTH;Y)

SETV2=RAND(9;14)	// wing width
SETV5=BUILDWIDTH
SUBV5(V2)

DOWN(1)
SETV6=V5
DIVV6(2)
RIGHT(V6)
MATERIAL=40
BDOWN(1)
UP(1)
LEFT(V6)

MATERIAL=7	// brick
SETV20=7	// wall
SETV21=8	// floor
SETV22=9	// bg

IFV4(6;10)	// element
	MATERIAL=10
	SETV20=10
	SETV21=11
	SETV22=12
ENDIF

IFV3(6;10)	// right
	RIGHT(V5)
ENDIF

OUTSIDE=1

BEGIN
	UP(FLOORHEIGHT)
	BUILDFLOOR(X;V2;Y)
	OUTSIDE=4
REPEAT V1

SETY=V7

IFV3(0;5)
	RIGHT(V2)
	LEFT(2)
ENDIF

IFV3(6;10)
	LEFT(V5)
	RIGHT(2)
ENDIF


// dome
SUBV5(1)
SETV1=RAND(15;25)	// height
IFV1(V5;30)
	SETV1=V5
ENDIF

BUP(V1)
MATERIAL=V21
BRIGHT(V5)
MATERIAL=V20

RIGHT(V5)
BUP(V1)

LEFT(V5)
UP(V1)

SETV6=V5
SUBV6(9)
SUBV1(1)


BEGIN
	MATERIAL=29
	BRIGHT(2)
	MATERIAL=28	// roof
	BUP(1)
	DOWNRIGHT(1)
	MATERIAL=V22
	BDOWN(V1)
	ADDV1(1)
	UP(2)
REPEAT 5

SUBV1(1)
DOWN(1)
BEGIN
	MATERIAL=29
	BUP(1)
	DOWN(1)
	MATERIAL=V22
	BDOWN(V1)
	UPRIGHT(1)
REPEAT V6

SUBV1(1)

BEGIN
	MATERIAL=30	// roof
	BDOWN(1)
	MATERIAL=29
	DOWN(1)
	BDOWN(1)
	DOWN(1)
	MATERIAL=V22
	BDOWN(V1)
	SUBV1(1)
	RIGHT(1)
	UP(1)
REPEAT 4

MATERIAL=30
BUP(1)

