SETFREQUENCY=90		// hotel, 90
//JN 1.6.2005 

BUILDWIDTH=RAND(25;60)
FLOORHEIGHT=4
SETX=BUILDBEGIN
GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)

DOORINTERVAL=RAND(5;7)

	// floors
SETV1=RAND(5;12)
IFV11(0;40)
	SETV1=RAND(5;8)		// small buildings -> lower
ENDIF

SETV30=BUILDWIDTH
SUBV30(2)
SETV11=V30

SETV3=RAND(0;10)	// sign on l/r
SETV4=RAND(0;10)	// material

MATERIAL=7	// brick
SETV20=7	// wall
SETV21=8	// floor
SETV22=9	// bg

IFV4(6;10)	// element
	MATERIAL=10
	SETV20=10
	SETV21=11
	SETV22=12
ENDIF

IFV3(6;10)	// sign on right
	RIGHT(V30)
//	LEFT(2)
ENDIF

UP(1)
MATERIAL=133
BUP(1)
MATERIAL=134
RIGHT(1)
BUP(1)
DOWN(1)


IFV3(6;10)	// sign on right
//	RIGHT(2)
	LEFT(V30)
ENDIF

SETV10=X	// NEW buildbegin

SETV2=1		// basement
IFV1(8;9)
	SETV2=2
ENDIF

IFV1(10;12)
	SETV2=3
ENDIF

MATERIAL=4
DOORTYPE=2
OUTSIDE=0

BEGIN
	DOWN(FLOORHEIGHT)
	BUILDFLOOR(V10;V30;Y)
REPEAT V2

SUBV11(4)
SETV14=V11
DIVV14(2)

MATERIAL=5
RIGHT(2)
BRIGHT(V11)
RIGHT(V14)
DOWN(1)
MATERIAL=40
BDOWN(1)
UP(1)
LEFT(V14)
LEFT(2)

MULV2(FLOORHEIGHT)
UP(V2)

MATERIAL=V20

OUTSIDE=1

BUILDFLOOR(V10;V30;Y)
UP(FLOORHEIGHT)

OUTSIDE=RAND(2;5)
SETV15=RAND(1;4)
SETV14=V1
SUBV14(V15)
SETV15=0

BEGIN
	BUILDFLOOR(V10;V30;Y)
	ADDV15(1)
	IFV15(V14;V1)
		DOORINTERVAL=RAND(10;20)
	ENDIF
	UP(FLOORHEIGHT)
REPEAT V1

BUILDROOF(V10;V30;Y)

ADDV1(1)
MULV1(FLOORHEIGHT)
ADDV1(V2)

SETV16=1
IFV11(40;50)
	SETV16=2
	LEFT(3)
ENDIF
IFV11(51;60)
	SETV16=3
	LEFT(5)
ENDIF

DIVV11(2)
RIGHT(V11)
DOWN(V1)

SETV17=RAND(0;10)	// rich or poor
MATERIAL=18
SETV18=V1
SUBV18(V2)

BEGIN

	BUILDELEV(X;Y;4;V1;0)

	IFV17(5;10)
		UP(V1)
		DOWNRIGHT(1)
		BDOWN(V18)
		RIGHT(1)
		BDOWN(V18)
		DOWN(V1)
		LEFT(2)
		UP(1)
	ENDIF
	RIGHT(6)
REPEAT V16



