SETFREQUENCY=15	// row house, 15
//JN 12.6.2005

BUILDWIDTH=RAND(15;40)
FLOORHEIGHT=4
SETX=BUILDBEGIN
GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)

DOORINTERVAL=RAND(6;10)
DOORTYPE=2	// normal doors

SETV1=RAND(1;2)		// floors
SETV4=RAND(0;10)	// material

MATERIAL=7	// brick
SETV20=7	// wall
SETV21=8	// floor
SETV22=9	// bg

IFV4(6;10)	// element
	MATERIAL=10
	SETV20=10
	SETV21=11
	SETV22=12
ENDIF

SETV2=BUILDWIDTH
IFV2(15;20)
	SETV5=2
ENDIF

IFV2(21;30)
	SETV5=3
ENDIF

IFV2(31;40)
	SETV5=4
ENDIF

SETV6=RAND(10;14)	// 1 house's size
SETV7=V6
DIVV7(2)

SETV10=V6
SUBV10(4)
SETV5=BUILDWIDTH
DIVV5(V10)
OUTSIDE=0
SETV9=0

BEGIN
	MATERIAL=4
	DOWN(FLOORHEIGHT)
	BUILDFLOOR(X;V6;Y)
	MATERIAL=40
	RIGHT(V7)
	DOWN(1)
	BDOWN(1)
	UP(1)
	LEFT(V7)

	UP(FLOORHEIGHT)

	SETV8=0

	MATERIAL=V20
	BEGIN
		BUILDFLOOR(X;V6;Y)
		UP(FLOORHEIGHT)
		ADDV8(FLOORHEIGHT)
	REPEAT V1

	DOWN(V8)
	RIGHT(V6)
	LEFT(4)
	ADDV9(V6)
	SUBV9(4)

REPEAT V5

//SETX=BUILDBEGIN
UP(V8)
LEFT(V9)
ADDV9(4)
BUILDROOF(X;V9;Y)

MATERIAL=19
DOWN(V8)
UP(1)
RIGHT(2)
BUP(2)

SUBV9(4)

RIGHT(V9)
LEFT(1)
BUP(2)

LEFT(V9)
UP(FLOORHEIGHT)
UP(1)
RIGHT(1)

MATERIAL=18
IFV1(2;2)
	BUP(2)
	RIGHT(V9)
	LEFT(1)
	BUP(2)
ENDIF
