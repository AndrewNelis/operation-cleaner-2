SETFREQUENCY=120
//JN 31.1.2005
DOORINTERVAL=RAND(7;15)
FLOORHEIGHT=4
BUILDWIDTH=RAND(20;60)
ELEVINTERVAL=RAND(10;20)

GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)
SETX=BUILDBEGIN

MATERIAL=4
SETV2=RAND(0;100)

IFV2(0;70)
	SETV1=RAND(3;6)		// floors
ENDIF

IFV2(71;100)
	SETV1=RAND(3;12)	// floors
ENDIF

SETV2=BUILDWIDTH
IFV2(0;30)			// if small building width, not very tall
	SETV1=RAND(3;6)
ENDIF

SUBV2(4)

DOORTYPE=0
OUTSIDE=0

IFV1(6;12)
	DOWN(FLOORHEIGHT)	// 2nd basement
	BUILDFLOOR(BUILDBEGIN;BUILDWIDTH;Y)
ENDIF

DOWN(FLOORHEIGHT)	// basement
BUILDFLOOR(BUILDBEGIN;BUILDWIDTH;Y)

RIGHT(2)	// build the basement bottom
MATERIAL=5
BRIGHT(V2)
LEFT(2)

SETV10=V2
DIVV10(2)
ADDV10(2)
RIGHT(V10)
DOWN(1)
MATERIAL=40
BDOWN(1)
MATERIAL=5
UP(1)
LEFT(V10)

UP(FLOORHEIGHT)

IFV1(6;12)
	UP(FLOORHEIGHT)
ENDIF

SETV3=RAND(0;100)
MATERIAL=10
IFV3(0;50)
	MATERIAL=7
ENDIF

OUTSIDE=1
DOORTYPE=1
BUILDFLOOR(BUILDBEGIN;BUILDWIDTH;Y)	// 1st floor

OUTSIDE=4	// windows
UP(FLOORHEIGHT)
DOORTYPE=2

BEGIN	// other floors
	BUILDFLOOR(BUILDBEGIN;BUILDWIDTH;Y)
	UP(FLOORHEIGHT)
//	PRINT(Y:)
//	PRINTVAR Y
REPEAT V1

BUILDROOF(BUILDBEGIN;BUILDWIDTH;Y)
