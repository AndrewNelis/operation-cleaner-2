SETFREQUENCY=120		// mall, 120
//JN 9.6.2005

BUILDWIDTH=50
FLOORHEIGHT=5
SETX=BUILDBEGIN
SETV1=RAND(12;25)
MULV1(2)
BUILDWIDTH=V1

GROUNDLEVEL(BUILDBEGIN;BUILDWIDTH;1)
GOTOLOW(BUILDBEGIN;BUILDWIDTH)

//ELEVINTERVAL=RAND(10;20)
DOORINTERVAL=RAND(6;10)
DOORTYPE=2

SETV1=RAND(1;4)		// floors
SETV3=RAND(0;10)	// l/r

MATERIAL=10	// element
SETV20=10
SETV21=11
SETV22=12

DOWN(FLOORHEIGHT)
MATERIAL=4	// basement
BUILDFLOOR(X;BUILDWIDTH;Y)

SETV2=BUILDWIDTH
DIVV2(2)

MATERIAL=40
RIGHT(V2)
DOWN(1)
BDOWN(1)
UP(1)
LEFT(V2)

UP(FLOORHEIGHT)
MATERIAL=10
SETV4=RAND(4;5)
OUTSIDE=1
DOORTYPE=1

IFV3(6;10)
	RIGHT(V2)
//	RIGHT(1)
//	DOWN(FLOORHEIGHT)
ENDIF


BUILDFLOOR(X;V2;Y)	// 1st floor
UP(FLOORHEIGHT)
OUTSIDE=RAND(4;5)
DOORTYPE=2

BEGIN
	BUILDFLOOR(X;V2;Y)
	UP(FLOORHEIGHT)
REPEAT V1

IFV3(6;10)
	LEFT(V2)
//	LEFT(2)
ENDIF

SETV5=V1
MULV5(FLOORHEIGHT)

SETV6=BUILDWIDTH
SUBV6(V2)

DOWN(V5)
DOWN(FLOORHEIGHT)

IFV3(0;5)	
	RIGHT(V2)
	LEFT(5)
ENDIF

ADDV6(5)
DOORINTERVAL=100
OUTSIDE=0

ADDV1(1)

BEGIN
	BUILDFLOOR(X;V6;Y)
	UP(FLOORHEIGHT)
REPEAT V1

IFV3(0;5)
	LEFT(V6)
	RIGHT(10)
ENDIF


BUILDROOF(X;BUILDWIDTH;Y)

RIGHT(V2)
MULV1(FLOORHEIGHT)
ADDV1(FLOORHEIGHT)

DOWN(V1)

BUILDELEV(X;Y;6;V1;0)


